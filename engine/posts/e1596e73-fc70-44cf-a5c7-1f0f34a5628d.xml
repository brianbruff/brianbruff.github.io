<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<post>
  <author>brianbruff</author>
  <title>Angular.js .NET File Upload</title>
  <description />
  <content>&lt;p&gt;In this post I’m going to show you how to upload a file using Angular.js on the client side and Asp WebApi on the back end.&lt;/p&gt;  &lt;h2&gt;Lets get started&lt;/h2&gt;  &lt;p&gt;Create you project in visual studio, and add your angular.js app controllers etc.&lt;/p&gt;  &lt;p&gt;Interestingly enough &lt;a href="https://briankeating.net/post/Uploading-a-file-in-MVC4-C5-NET-45"&gt;I’ve already shown you how to do the server side&lt;/a&gt; over 2 years ago!     &lt;br /&gt;Crikey 2 years and I’m still writing about the same old stuff….. well not really, last time it was knockout, sliverlight and the likes, now it’s Angular.js’ turn.&lt;/p&gt;  &lt;h2&gt;Angular file upload, Nuget&lt;/h2&gt;  &lt;p&gt;In order to facilitate the process, we’re going to use a nuget package I like, see screenshot.&lt;/p&gt;  &lt;table cellspacing="0" cellpadding="2" width="382" border="0"&gt;&lt;tbody&gt;     &lt;tr&gt;       &lt;td valign="top" width="380"&gt;         &lt;p&gt;&lt;a href="./image.axd?picture=image_312.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_312.png" width="661" height="151" /&gt;&lt;/a&gt;&lt;/p&gt;       &lt;/td&gt;     &lt;/tr&gt;   &lt;/tbody&gt;&lt;/table&gt;  &lt;p&gt;The beauty of this package is that its got shims for non html5 browsers (apparently there are a few hanging around still :-( )&lt;/p&gt;  &lt;p&gt;To use this package you’ll need to include 2 scripts, file-upload-shim before angular.js and file-upload after.&lt;/p&gt;  &lt;h3&gt;Script Includes&lt;/h3&gt;  &lt;table cellspacing="0" cellpadding="2" width="400" border="0"&gt;&lt;tbody&gt;     &lt;tr&gt;       &lt;td valign="top" width="400"&gt;&lt;a href="./image.axd?picture=image_313.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_313.png" width="506" height="100" /&gt;&lt;/a&gt; &lt;/td&gt;     &lt;/tr&gt;   &lt;/tbody&gt;&lt;/table&gt;  &lt;p&gt;   &lt;br /&gt;&lt;/p&gt;  &lt;h3&gt;Markup&lt;/h3&gt;  &lt;p&gt;Next add the input tag and add the ng-file-select directive&lt;/p&gt;  &lt;table cellspacing="0" cellpadding="2" width="400" border="0"&gt;&lt;tbody&gt;     &lt;tr&gt;       &lt;td valign="top" width="400"&gt;&lt;a href="./image.axd?picture=image_314.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_314.png" width="756" height="75" /&gt;&lt;/a&gt; &lt;/td&gt;     &lt;/tr&gt;   &lt;/tbody&gt;&lt;/table&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;&lt;/p&gt;  &lt;h3&gt;Javascript&lt;/h3&gt;  &lt;h4&gt;Module&lt;/h4&gt;  &lt;p&gt;Add the upload module&lt;/p&gt;  &lt;h4&gt;Factory&lt;/h4&gt;  &lt;table cellspacing="0" cellpadding="2" width="400" border="0"&gt;&lt;tbody&gt;     &lt;tr&gt;       &lt;td valign="top" width="400"&gt;&lt;a href="./image.axd?picture=image_315.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_315.png" width="767" height="102" /&gt;&lt;/a&gt; &lt;/td&gt;     &lt;/tr&gt;   &lt;/tbody&gt;&lt;/table&gt;  &lt;p&gt;Here i added the $upload factory to my controller&lt;/p&gt;  &lt;h4&gt;Controller function&lt;/h4&gt;  &lt;table cellspacing="0" cellpadding="2" width="400" border="0"&gt;&lt;tbody&gt;     &lt;tr&gt;       &lt;td valign="top" width="400"&gt;&lt;a href="./image.axd?picture=image_316.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_316.png" width="458" height="262" /&gt;&lt;/a&gt; &lt;/td&gt;     &lt;/tr&gt;   &lt;/tbody&gt;&lt;/table&gt;  &lt;p&gt;Here I enumerate the files (should i wish to have multi select) then I upload each one by posting to my Web Api .net controller, I pass a little more information also as to the diff side, but that’s pretty much it.&lt;/p&gt;  &lt;h2&gt;.NET&lt;/h2&gt;  &lt;p&gt;Now even though I did show you the .net code before I’m going to show it again now, because as I mentioned I’m passing a little information as to the side the file I’m uploading represents.&lt;/p&gt;  &lt;table cellspacing="0" cellpadding="2" width="400" border="0"&gt;&lt;tbody&gt;     &lt;tr&gt;       &lt;td valign="top" width="400"&gt;&lt;a href="./image.axd?picture=image_317.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_317.png" width="838" height="654" /&gt;&lt;/a&gt; &lt;/td&gt;     &lt;/tr&gt;   &lt;/tbody&gt;&lt;/table&gt;  &lt;p&gt;&lt;/p&gt;  &lt;p&gt;&lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_318.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_318.png" width="244" height="87" /&gt;&lt;/a&gt;&lt;/p&gt;</content>
  <ispublished>True</ispublished>
  <isdeleted>False</isdeleted>
  <iscommentsenabled>True</iscommentsenabled>
  <pubDate>2014-05-23 14:08:59</pubDate>
  <lastModified>2014-05-23 14:43:12</lastModified>
  <raters>0</raters>
  <rating>0</rating>
  <slug>Angularjs-NET-File-Upload</slug>
  <tags>
    <tag>FileUpload</tag>
  </tags>
  <comments />
  <categories>
    <category>ca7a406c-e158-492d-936e-566c78622749</category>
    <category>67054983-5ca1-4bc7-a7b8-42b08c4ba45d</category>
    <category>8d3ccbfc-3431-4646-9ad8-2eac50353c8f</category>
  </categories>
  <notifications />
</post>
