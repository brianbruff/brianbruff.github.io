<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<post>
  <author>brianbruff</author>
  <title>Customization of WebApi</title>
  <description />
  <content>&lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;If you’ve used Asp MVC Web Api then you are most likely familiar with the notion of content negotiation, this is the process where the content returned in the response is dictated by the accepts header in the request. In sort if you request xml you get xml back, if you request json you get json back. &lt;/p&gt;  &lt;p&gt;This is done by what we call Formatters. You can of course add your own formatters, e.g. let’s say you have an application that returns human resource details; you may request back a profile picture by hitting the same route with a different request header.&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;h2&gt;OOB Formatters&lt;/h2&gt;  &lt;p&gt;Lets take a working example, of what we get out of the box (OOB).&lt;/p&gt;  &lt;p&gt;Create a new Web Api project&lt;/p&gt;  &lt;p&gt;Add the following class&lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_235.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_235.png" width="244" height="76" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;Modify the ValuesController as follows&lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_236.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_236.png" width="713" height="87" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;We now should be able to run the project and see the following in the browser&lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_237.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_237.png" width="719" height="320" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;So by default we get back an xml formatted response, of course we could request json, but what if we just don’t want xml?&lt;/p&gt;  &lt;h2&gt;Tweaking the config&lt;/h2&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;Add the following line to your Global.asax.cs&lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_238.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_238.png" width="530" height="263" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;Now add this new GlobalConfig static class as follows&lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_239.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_239.png" width="459" height="116" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;Run your application again&lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_240.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_240.png" width="691" height="239" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;Now we get json by default, yah! &lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;But wait a second, what if I know that I have some javascript developers that want to use this content, wouldn’t be nicer to offer camel casing to these guys?&lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_241.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_241.png" width="520" height="144" /&gt;&lt;/a&gt;&amp;#160; &lt;/p&gt;  &lt;p&gt;Run project again&lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_242.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_242.png" width="688" height="238" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;e.g some simple jQuery &lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_243.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_243.png" width="562" height="341" /&gt;&lt;/a&gt;&lt;/p&gt;</content>
  <ispublished>True</ispublished>
  <isdeleted>False</isdeleted>
  <iscommentsenabled>True</iscommentsenabled>
  <pubDate>2013-02-05 00:41:41</pubDate>
  <lastModified>2015-07-09 11:04:20</lastModified>
  <raters>0</raters>
  <rating>0</rating>
  <slug>Customization-of-WebApi</slug>
  <tags>
    <tag>webapi customization</tag>
  </tags>
  <comments />
  <categories />
  <notifications />
</post>