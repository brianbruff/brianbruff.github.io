<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<post>
  <author>brianbruff</author>
  <title>Using DataTables.net with Asp MVC Web Api</title>
  <description />
  <content>&lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;So I’ve been working on Web application that uses the ASP MVC4 Web API. I like this approach especially as it will easily allow me to support other clients I/others may write in future, in so far as, it returns Json and is a RestAPI.&lt;/p&gt;  &lt;p&gt;Now I’ve never used DataTables before so I’m trialling it as my client side html grid. However I quickly ran into problems with it and the expected Json Payload.&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;If you are familiar with the various .net Json serializers you’ll get some Json back with Key value pairs.&lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_193.png"&gt;&lt;img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="./image.axd?picture=image_thumb_193.png" width="244" height="79" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;e.g.&amp;#160; {[“Name” : “Brian”, “Age” : “35”], [“Name” : “Brian1”, “Age” : “36”]}&lt;/p&gt;  &lt;p&gt;This causes a major problem for DataTables in that it expects (&lt;em&gt;by default&lt;/em&gt;) &lt;/p&gt;  &lt;p&gt;e.g. {“Brian”, “35”], [“Brian1”,“36”]}&lt;/p&gt;  &lt;p&gt;I say by default because maybe there is a way to configure this out of the box with column mappings and what not, however I can’t see the wood for the trees so my first approach will be to perform this data mapping myself, I’ll RTFM at a later date &lt;img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="./image.axd?picture=wlEmoticon-smile_15.png" /&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;So where can I plug into the pipeline and map this data? &lt;font color="#a31515" size="2" face="Consolas"&gt;&lt;font color="#a31515" size="2" face="Consolas"&gt;&lt;font color="#a31515" size="2" face="Consolas"&gt;fnServerData ! &lt;font color="#111111" face="Lucida Sans Unicode"&gt;This function allows me to manage how I get and format the data, exactly what I need.&lt;/font&gt;&lt;/font&gt;&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;  &lt;p&gt;&lt;font color="#a31515" size="2" face="Consolas"&gt;&lt;font color="#a31515" size="2" face="Consolas"&gt;&lt;font color="#a31515" size="2" face="Consolas"&gt;&lt;/font&gt;&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;  &lt;p&gt;Here’s how I’ve implemented it.&lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_194.png"&gt;&lt;img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="./image.axd?picture=image_thumb_194.png" width="471" height="348" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;I’m not saying it’s the best solution! May even have a few bugs, but it appears to do the trick for me for now. &lt;/p&gt;  &lt;h2&gt;Update:&lt;/h2&gt;  &lt;p&gt;I’ve now read the documentation: and it’s oh so simple to handle the ASP MVC Json array.&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_195.png"&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="./image.axd?picture=image_thumb_195.png" width="419" height="177" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;h3&gt;Moral of the story&lt;/h3&gt;  &lt;p&gt;Read the manual &lt;img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="./image.axd?picture=wlEmoticon-smile_15.png" /&gt;&lt;/p&gt;</content>
  <ispublished>True</ispublished>
  <isdeleted>False</isdeleted>
  <iscommentsenabled>True</iscommentsenabled>
  <pubDate>2012-07-07 16:52:36</pubDate>
  <lastModified>2015-07-09 11:05:22</lastModified>
  <raters>1</raters>
  <rating>5</rating>
  <slug>Using-DataTablesnet-with-Asp-MVC-Web-Api</slug>
  <tags>
    <tag>Asp Web Api and Datatables</tag>
  </tags>
  <comments />
  <categories />
  <notifications />
</post>