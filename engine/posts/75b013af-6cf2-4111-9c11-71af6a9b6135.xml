<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<post>
  <author>brianbruff</author>
  <title>KendoUi Web Grid and ASP MVC Web Api</title>
  <description />
  <content>&lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;I’ve just been through the mill trying to get kendo grid working with a ASP MVC Web Api Http Post Action.   &lt;br /&gt;I think it may help someone if I post my findings.&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;h2&gt;OData&lt;/h2&gt;  &lt;p&gt;If you use KendoUi you know that the datasource has v.good support of OData, but you’ll most likely also be aware that the WebApi &lt;em&gt;currently &lt;/em&gt;is not fully OData compliant (did you notice i said currently!!! I’ve seen some heated discussions regarding OData support with WebApi, and it looks like some headway has been made &lt;a href="http://blogs.msdn.com/b/alexj/archive/2012/08/15/odata-support-in-asp-net-web-api.aspx?CommentPosted=true"&gt;&lt;font color="#0066cc"&gt;http://blogs.msdn.com/b/alexj/archive/2012/08/15/odata-support-in-asp-net-web-api.aspx?CommentPosted=true&lt;/font&gt;&lt;/a&gt;). Now while I’m all on for living on the bleeding edge I’ve decided to give the alpha&amp;#160; a miss for now as I need to get this solution into production.&lt;/p&gt;  &lt;h2&gt;But we are, where we are.&lt;/h2&gt;  &lt;blockquote&gt;   &lt;p&gt;So in the interim I needed to perform the simple task of getting the Kendo grid to&lt;/p&gt;    &lt;ul&gt;     &lt;li&gt;Use Http Post verb&lt;/li&gt;      &lt;li&gt;Refresh when the async operation of loading data has finished.&lt;/li&gt;      &lt;h3&gt;       &lt;ul&gt;How hard could that be?&lt;/ul&gt;     &lt;/h3&gt; Well looking back, not all that difficult, but it’s easy when you know how.      &lt;br /&gt;&lt;/ul&gt;    &lt;h4&gt;Getting kendo dataset to use Http Post verb.&lt;/h4&gt; &lt;/blockquote&gt;  &lt;p&gt;   &lt;br /&gt;Lets first have a look at my MVC Action&lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_211.png"&gt;&lt;img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_211.png" width="657" height="320" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;h2&gt;&amp;#160;&lt;/h2&gt;  &lt;p&gt;Don’t get hooked up on the implementation or where I’ve put it for now, the important part is to notice the HttPostAttribute aspect. The endpoint url would be something like localhost/MyApp/api/Data/MyId where MyId would be the first parameter, the second parameter SearchOptionsFilters on the other hand are posted; here’s how:&lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_212.png"&gt;&lt;img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_212.png" width="435" height="185" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Here we see we’re passing the sf object (that the model binder parses into it’s .net counterpart) to the read function of the dataset, AND we are explicitly setting the transport.options.read.type to “POST”.&lt;/p&gt;  &lt;p&gt;Now I found a good few posts demonstrating how to do this but they mostly showed javascript object literals with the “POST” set on the transport which wouldn’t work for me, i.e. &lt;/p&gt;  &lt;p&gt;&lt;a href="./image.axd?picture=image_213.png"&gt;&lt;img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="./image.axd?picture=image_thumb_213.png" width="319" height="266" /&gt;&lt;/a&gt;&lt;/p&gt;    &lt;h4&gt;Getting the grid to refresh once the data becomes available&lt;/h4&gt;  &lt;p&gt;Look in the screenshot above, I’ve already given this game away! The change callback refreshes the grid once the datasource changes underneath, this it appears is required when going down the ajax route.&lt;/p&gt;  &lt;p&gt;Kr,   &lt;br /&gt;Brian.&lt;/p&gt;</content>
  <ispublished>True</ispublished>
  <isdeleted>False</isdeleted>
  <iscommentsenabled>True</iscommentsenabled>
  <pubDate>2012-08-23 08:10:26</pubDate>
  <lastModified>2015-07-09 11:05:06</lastModified>
  <raters>0</raters>
  <rating>0</rating>
  <slug>KendoUi-Web-Grid-and-ASP-MVC-Web-Api</slug>
  <tags>
    <tag>KendoUi</tag>
    <tag>Grid</tag>
    <tag>HttpPost</tag>
    <tag>Grid refresh.</tag>
  </tags>
  <comments />
  <categories />
  <notifications />
</post>