{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2023-07-24-how-to-find-the-oldest-file-in-an-s3-bucket/","result":{"data":{"markdownRemark":{"html":"<p>This python example searches for the oldest file in a bucket and prints same.</p>\n<p>Ensure to pip install boto3</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">import boto3\n\n# Specify the bucket name\nbucket_name = 'my-bucket'\n\ns3 = boto3.resource('s3')\n\nbucket = s3.Bucket(bucket_name)\n\n# Initialize oldest_file and oldest_date to None\noldest_file = None\noldest_date = None\n\n# Iterate through all files in the bucket\nfor obj in bucket.objects.all():\n    # If oldest_file is None, or this file was modified before the oldest file\n    # then update oldest_file and oldest_date to this file's name and last_modified date\n    if oldest_file is None or obj.last_modified &lt; oldest_date:\n        oldest_file = obj.key\n        oldest_date = obj.last_modified\n\n# Print the oldest file's name and its last_modified date\nif oldest_file is not None:\n    print('The oldest file is {0} and was last modified on {1}'.format(oldest_file, oldest_date))\nelse:\n    print('No files in bucket')</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","frontmatter":{"title":"How to find the oldest file in an S3 bucket","date":"July 24, 2023"}}},"pageContext":{"slug":"/blog/2023-07-24-how-to-find-the-oldest-file-in-an-s3-bucket/"}},"staticQueryHashes":["2326376460","63159454"],"slicesMap":{}}