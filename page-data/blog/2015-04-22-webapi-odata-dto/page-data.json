{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2015-04-22-webapi-odata-dto/","result":{"data":{"markdownRemark":{"html":"<p>So I’ve started using OData in anger and pretty much immediately stumbled on a problem when using Data Transfer Objects (DTOs). This post explains that problem and the solution.</p>\n<h2>Problem</h2>\n<p>The following error is encountered when trying to access the exposed entity by key:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">No routing convention was found to select an action for the OData path with template '~/entityset/key'.\",\"type\":\"\"</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><img src=\"/images//images/image_thumb_371.png\" alt=\"\"></p>\n<h2>Cause Code</h2>\n<h3>OData configuration</h3>\n<p>Here I show the simple entity I’m exposing</p>\n<p><img src=\"/images//images/image_thumb_372.png\" alt=\"\"></p>\n<h2></h2>\n<h3>Timesheet Controller</h3>\n<p>Here you can see that the underlying timesheets are just projected using Automapper to their DTO counterparts</p>\n<p><img src=\"/images//images/image_thumb_373.png\" alt=\"\"></p>\n<h2></h2>\n<h3>Automapper config</h3>\n<p>Here I show the automapper configuration (not that it’s makes any difference to the problem encountered)</p>\n<p><img src=\"/images//images/image_thumb_374.png\" alt=\"\"></p>\n<h2>Solution</h2>\n<p>To fix this problem I needed to set the EntityType.Name property on my OData entity type.</p>\n<p><img src=\"/images//images/image_thumb_375.png\" alt=\"\"></p>\n<p>And thereafter, success!</p>\n<p><img src=\"/images//images/image_thumb_376.png\" alt=\"\"></p>","frontmatter":{"title":"WebAPI OData DTO","date":"April 22, 2015"}}},"pageContext":{"slug":"/blog/2015-04-22-webapi-odata-dto/"}},"staticQueryHashes":["2326376460","63159454"],"slicesMap":{}}