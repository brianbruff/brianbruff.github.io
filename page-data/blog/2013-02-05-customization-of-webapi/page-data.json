{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2013-02-05-customization-of-webapi/","result":{"data":{"markdownRemark":{"html":"<p>If you’ve used Asp MVC Web Api then you are most likely familiar with the notion of content negotiation, this is the process where the content returned in the response is dictated by the accepts header in the request. In sort if you request xml you get xml back, if you request json you get json back.</p>\n<p>This is done by what we call Formatters. You can of course add your own formatters, e.g. let’s say you have an application that returns human resource details; you may request back a profile picture by hitting the same route with a different request header.</p>\n<h2>OOB Formatters</h2>\n<p>Lets take a working example, of what we get out of the box (OOB).</p>\n<p>Create a new Web Api project</p>\n<p>Add the following class</p>\n<p><img src=\"/images/./image.axd?picture=image_thumb_235.png\" alt=\"\"></p>\n<p>Modify the ValuesController as follows</p>\n<p><img src=\"/images/./image.axd?picture=image_thumb_236.png\" alt=\"\"></p>\n<p>We now should be able to run the project and see the following in the browser</p>\n<p><img src=\"/images/./image.axd?picture=image_thumb_237.png\" alt=\"\"></p>\n<p>So by default we get back an xml formatted response, of course we could request json, but what if we just don’t want xml?</p>\n<h2>Tweaking the config</h2>\n<p>Add the following line to your Global.asax.cs</p>\n<p><img src=\"/images/./image.axd?picture=image_thumb_238.png\" alt=\"\"></p>\n<p>Now add this new GlobalConfig static class as follows</p>\n<p><img src=\"/images/./image.axd?picture=image_thumb_239.png\" alt=\"\"></p>\n<p>Run your application again</p>\n<p><img src=\"/images/./image.axd?picture=image_thumb_240.png\" alt=\"\"></p>\n<p>Now we get json by default, yah!</p>\n<p>But wait a second, what if I know that I have some javascript developers that want to use this content, wouldn’t be nicer to offer camel casing to these guys?</p>\n<p><img src=\"/images/./image.axd?picture=image_thumb_241.png\" alt=\"\"></p>\n<p>Run project again</p>\n<p><img src=\"/images/./image.axd?picture=image_thumb_242.png\" alt=\"\"></p>\n<p>e.g some simple jQuery</p>\n<p><img src=\"/images/./image.axd?picture=image_thumb_243.png\" alt=\"\"></p>","frontmatter":{"title":"Customization of WebApi","date":"February 05, 2013"}}},"pageContext":{"slug":"/blog/2013-02-05-customization-of-webapi/"}},"staticQueryHashes":["2326376460","63159454"],"slicesMap":{}}